---
import "@/styles/main.css";
import BaseHead from "@/components/BaseHead.astro";
import Header from "@/components/Header.astro";
import Footer from "@/components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "@/consts";

const { multilang, showDevLinks } = Astro.props;
const currentLocale = Astro.currentLocale || "";
const theme = "dark";
---

<html
  lang={currentLocale}
  data-theme={theme}
>
  <head>
    <BaseHead
      title={SITE_TITLE}
      description={SITE_DESCRIPTION}
    />
  </head>
  <body class="container">
    <Header
      class="head"
      multilang={multilang}
      showDevLinks={showDevLinks}
    />
    <main>
      <slot />
    </main>
    <Footer />
  </body>
</html>

<style>
  @media screen {
    header {
      --_bg: hwb(from var(--pico-background-color) h w b / 0.5);
      position: sticky;
      top: 0;
      background: var(--pico-background-color);
      box-shadow:
        0 0 0.3rem 0.3rem var(--pico-background-color),
        0 0.4rem 0.4rem 0.3rem var(--_bg, --pico-background-color);
      z-index: var(--elevation-1);
    }
  }
  @media (max-width: 576px) {
    header {
      padding-block: 0.5rem;
    }
  }

  main {
    max-width: 80ch;
    margin: 0 auto 2rem;
  }
</style>
